default_platform(:ios)
skip_docs

platform :ios do
    lane :test do |options|
        puts 'Running on GitHub CI.' options[:ci] == 'github'
        scan(
            devices: ["iPhone 8"],
            scheme: "Introspect iOS",
            skip_build: options[:ci] == 'github'
        )

        scan(
            devices: ["Apple TV"],
            scheme: "Introspect tvOS",
            skip_build: options[:ci] == 'github'
        )
    end
end

platform :mac do
    lane :test do |options|
        puts 'Running on GitHub CI.' options[:ci] == 'github'
        scan(
            scheme: "Introspect macOS",
            skip_build: options[:ci] == 'github'
        )
    end
end
